# TCP Prague controlled RTT dependence

This directory contains sample tests to highlight the controlled RTT dependence
that is implemented in TCP Prague.

## Usage

`sudo ./testrunner.py [-c results/new_run]`

This will runs the tests, and generate the corresponding plots.

[results/100Mb_100s](results/100Mb_100s) contains results of such a run.

## Dependencies

These scripts must run on a kernel supporting TCP Prague, such as those that
can be built from the [L4S kernel tree](https://github.com/L4STeam/linux). Note that you can grab pre-built images in the artifacts of the "Actions" tab. If you build your own kernel, make sure to enable the support for network namespaces, veth pairs, virtual bridge, ...

Additionally, the host machine should have installed:
* python3
* matplotlib (e.g., `apt-get install python3-matplotlib`)
* iperf3 (e.g., `apt-get install iperf3`)

## Layout

 * [testrunner.py](testrunner.py) This is the main script. It will execute test sessions and plot the results. See the output of `./testrunner.py -h` to tweak its behavior, e.g., with the `-c` switch to specify where should (intermediate) results be stored.
 * [test_bottleneck.sh](test_bottleneck.sh) This script takes care of setting up a virtual network connecting two pairs of hosts, crossing a common bottleneck. You should not need to execute it directly.
 * [results/](results) This directory contains results generated by previous runs.
 * [modules/](modules) This directory contains the congestion control and AQM used to produce the results archived in [results/100Mb_100s/](results/100Mb_100s). These are carbon-copy from the L4S kernel tree [tagged on Mar. 1 2020 (testing/01-03-2020)](https://github.com/L4STeam/linux/releases/tag/testing%2F01-03-2020).
