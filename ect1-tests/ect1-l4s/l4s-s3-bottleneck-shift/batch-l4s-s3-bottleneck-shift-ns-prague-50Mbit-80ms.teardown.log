cli
---

+ ip tcp_metrics show
10.9.9.2 age 53.836sec ssthresh 323 cwnd 162 rtt 80360us rttvar 65932us source 10.9.9.1


srv
---

+ ip tcp_metrics show
10.9.9.1 age 53.805sec cwnd 10 rtt 80221us rttvar 64408us source 10.9.9.2


mid
---

+ tc-l4s -s -d qdisc show dev mid.l
qdisc htb 1: root refcnt 2 r2q 10 default 0x1 direct_packets_stat 0 ver 3.17 direct_qlen 1000
 Sent 20993758 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc dualpi2 80a0: parent 1:1 [Unknown qdisc, optlen=104] 
 Sent 7943816 bytes 120152 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc ingress ffff: parent ffff:fff1 ---------------- 
 Sent 949393604 bytes 633841 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev mid.l
class htb 1:1 root leaf 80a0: prio 0 quantum 200000 rate 50Mbit ceil 50Mbit linklayer ethernet burst 1600b/1 mpu 0b cburst 1600b/1 mpu 0b level 0 
 Sent 20993758 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
 lended: 317533 borrowed: 0 giants: 0
 tokens: 3755 ctokens: 3755

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 


+ tc-l4s -s -d qdisc show dev mid.r
qdisc htb 1: root refcnt 2 r2q 10 default 0x1 direct_packets_stat 0 ver 3.17 direct_qlen 1000
 Sent 958138688 bytes 633756 pkt (dropped 85, overlimits 454480 requeues 0) 
 backlog 0b 0p requeues 0
qdisc dualpi2 809f: parent 1:1 [Unknown qdisc, optlen=104] 
 Sent 362686236 bytes 239890 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc ingress ffff: parent ffff:fff1 ---------------- 
 Sent 16548296 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev mid.r
class htb 1:1 root leaf 809f: prio 0 quantum 200000 rate 50Mbit ceil 50Mbit linklayer ethernet burst 1600b/1 mpu 0b cburst 1600b/1 mpu 0b level 0 
 Sent 958138688 bytes 633756 pkt (dropped 3, overlimits 454480 requeues 0) 
 backlog 0b 0p requeues 0
 lended: 633756 borrowed: 0 giants: 0
 tokens: 3755 ctokens: 3755

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 


+ tc-l4s -s -d qdisc show dev mid.l
qdisc htb 1: root refcnt 2 r2q 10 default 0x1 direct_packets_stat 0 ver 3.17 direct_qlen 1000
 Sent 20993758 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc dualpi2 80a0: parent 1:1 [Unknown qdisc, optlen=104] 
 Sent 7943816 bytes 120152 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc ingress ffff: parent ffff:fff1 ---------------- 
 Sent 949393604 bytes 633841 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev mid.l
class htb 1:1 root leaf 80a0: prio 0 quantum 200000 rate 50Mbit ceil 50Mbit linklayer ethernet burst 1600b/1 mpu 0b cburst 1600b/1 mpu 0b level 0 
 Sent 20993758 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
 lended: 317533 borrowed: 0 giants: 0
 tokens: 3755 ctokens: 3755

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 


+ tc-l4s -s -d qdisc show dev mid.r
qdisc htb 1: root refcnt 2 r2q 10 default 0x1 direct_packets_stat 0 ver 3.17 direct_qlen 1000
 Sent 958138688 bytes 633756 pkt (dropped 85, overlimits 454480 requeues 0) 
 backlog 0b 0p requeues 0
qdisc dualpi2 809f: parent 1:1 [Unknown qdisc, optlen=104] 
 Sent 362686236 bytes 239890 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc ingress ffff: parent ffff:fff1 ---------------- 
 Sent 16548296 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev mid.r
class htb 1:1 root leaf 809f: prio 0 quantum 200000 rate 50Mbit ceil 50Mbit linklayer ethernet burst 1600b/1 mpu 0b cburst 1600b/1 mpu 0b level 0 
 Sent 958138688 bytes 633756 pkt (dropped 3, overlimits 454480 requeues 0) 
 backlog 0b 0p requeues 0
 lended: 633756 borrowed: 0 giants: 0
 tokens: 3755 ctokens: 3755

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 


+ tc-l4s -s -d qdisc show dev mid.l
qdisc htb 1: root refcnt 2 r2q 10 default 0x1 direct_packets_stat 0 ver 3.17 direct_qlen 1000
 Sent 20993758 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc dualpi2 80a0: parent 1:1 [Unknown qdisc, optlen=104] 
 Sent 7943816 bytes 120152 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc ingress ffff: parent ffff:fff1 ---------------- 
 Sent 949393604 bytes 633841 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev mid.l
class htb 1:1 root leaf 80a0: prio 0 quantum 200000 rate 50Mbit ceil 50Mbit linklayer ethernet burst 1600b/1 mpu 0b cburst 1600b/1 mpu 0b level 0 
 Sent 20993758 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
 lended: 317533 borrowed: 0 giants: 0
 tokens: 3755 ctokens: 3755

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 

class dualpi2 80a0: parent 80a0: 


+ tc-l4s -s -d qdisc show dev mid.r
qdisc htb 1: root refcnt 2 r2q 10 default 0x1 direct_packets_stat 0 ver 3.17 direct_qlen 1000
 Sent 958138688 bytes 633756 pkt (dropped 85, overlimits 454480 requeues 0) 
 backlog 0b 0p requeues 0
qdisc dualpi2 809f: parent 1:1 [Unknown qdisc, optlen=104] 
 Sent 362686236 bytes 239890 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0
qdisc ingress ffff: parent ffff:fff1 ---------------- 
 Sent 16548296 bytes 317533 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev mid.r
class htb 1:1 root leaf 809f: prio 0 quantum 200000 rate 50Mbit ceil 50Mbit linklayer ethernet burst 1600b/1 mpu 0b cburst 1600b/1 mpu 0b level 0 
 Sent 958138688 bytes 633756 pkt (dropped 3, overlimits 454480 requeues 0) 
 backlog 0b 0p requeues 0
 lended: 633756 borrowed: 0 giants: 0
 tokens: 3755 ctokens: 3755

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 

class dualpi2 809f: parent 809f: 


+ tc-l4s -s -d qdisc show dev ifb4mid.l
qdisc netem 1: root refcnt 2 limit 1000000 delay 40.0ms
 Sent 958267798 bytes 633847 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev ifb4mid.l

+ tc-l4s -s -d qdisc show dev ifb4mid.r
qdisc netem 1: root refcnt 2 limit 1000000 delay 40.0ms
 Sent 20994178 bytes 317539 pkt (dropped 0, overlimits 0 requeues 0) 
 backlog 0b 0p requeues 0

+ tc-l4s -s -d class show dev ifb4mid.r


